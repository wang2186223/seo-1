<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 151 - The Rise Of The Ugly Luna 2 | Free Novel Online - NovelVibe</title>
    <meta name="description" content="Read The Rise Of The Ugly Luna 2 Chapter 152 on NovelVibe - Free werewolf romance novels">
    <meta name="keywords" content="free novel online, werewolf, alpha, pack, romance, novel updates, light novel, apothecary diaries light novel, heavens official blessing novel, dune novel, read novel free, online novel, romance novel, graphic novel, visual novel, novel master, novel synonym, school spirits graphic novel, how many words in a novel, free novels online">
    <meta name="robots" content="index, follow">
    
    <!-- Time Meta Tags for SEO -->
    
    <meta property="article:published_time" content="2025-11-28T13:03:10.103712">
    <meta property="article:modified_time" content="2025-11-28T13:03:10.103712">
    <meta name="date" content="2025-11-28">
    <meta name="last-modified" content="2025-11-28 13:03:10">
    
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Chapter 151">
    <meta property="og:description" content="Read The Rise Of The Ugly Luna 2 online for free">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/chapter-152">
    <meta property="og:image" content="/covers/the-rise-of-the-ugly-luna-2-书籍封面.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Chapter 151">
    <meta name="twitter:description" content="Read The Rise Of The Ugly Luna 2 online">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/chapter-152">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KM9R2XBQSL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KM9R2XBQSL');
    </script>
    
    <!-- Page Visit Statistics Code -->
    <script>
    // Page visit data collection
    function sendPageVisit() {
        // First get user IP address
        getUserIP().then(userIP => {
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: userIP,
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            // Send data to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        }).catch(error => {
            // If IP retrieval fails, still send other data
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: 'Unknown',
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        });
    }
    
    // Get referrer source (traffic source detection) - Enhanced version
    function getReferrerSource() {
        const referrer = document.referrer || '';
        const urlParams = new URLSearchParams(window.location.search);
        const currentPath = window.location.pathname;
        
        // Check URL parameters first (for tracking campaigns)
        if (urlParams.has('utm_source')) {
            const source = urlParams.get('utm_source');
            const medium = urlParams.get('utm_medium') || '';
            const campaign = urlParams.get('utm_campaign') || '';
            return `UTM Campaign: ${source}${medium ? '/' + medium : ''}${campaign ? '/' + campaign : ''}`;
        }
        if (urlParams.has('fbclid')) {
            return 'Paid: Facebook Ads';
        }
        if (urlParams.has('gclid')) {
            return 'Paid: Google Ads';
        }
        
        // If no referrer, it's direct traffic
        if (!referrer) {
            // Try to distinguish different types of direct traffic
            if (document.cookie.includes('returning_visitor')) {
                return 'Direct: Returning Visitor';
            }
            return 'Direct: First Visit or Bookmark';
        }
        
        // Parse referrer URL
        try {
            const refUrl = new URL(referrer);
            const refHost = refUrl.hostname.toLowerCase();
            const refPath = refUrl.pathname;
            
            // Check if it's from same domain (internal navigation)
            if (refHost === window.location.hostname) {
                // Detect specific internal pages
                if (refPath === '/' || refPath === '/index.html') {
                    return 'Internal: From Homepage';
                } else if (refPath.includes('/novels/') && !refPath.includes('/chapter-')) {
                    return 'Internal: From Novel Detail Page';
                } else if (refPath.includes('/chapter-')) {
                    return 'Internal: From Another Chapter';
                } else if (refPath.includes('/all-novels')) {
                    return 'Internal: From All Novels List';
                } else {
                    return 'Internal: Site Navigation';
                }
            }
            
            // Search Engines
            if (refHost.includes('google.')) {
                // Try to detect organic vs images
                if (refPath.includes('/imgres')) {
                    return 'Organic: Google Images';
                }
                return 'Organic: Google Search';
            }
            if (refHost.includes('bing.com')) {
                return 'Organic: Bing Search';
            }
            if (refHost.includes('yahoo.com')) {
                return 'Organic: Yahoo Search';
            }
            if (refHost.includes('duckduckgo.com')) {
                return 'Organic: DuckDuckGo';
            }
            if (refHost.includes('baidu.com')) {
                return 'Organic: Baidu Search';
            }
            
            // Social Media Platforms
            if (refHost.includes('facebook.com') || refHost.includes('fb.com')) {
                return 'Social: Facebook';
            }
            if (refHost.includes('instagram.com')) {
                return 'Social: Instagram';
            }
            if (refHost.includes('twitter.com') || refHost.includes('t.co')) {
                return 'Social: Twitter/X';
            }
            if (refHost.includes('tiktok.com')) {
                return 'Social: TikTok';
            }
            if (refHost.includes('reddit.com')) {
                return 'Social: Reddit';
            }
            if (refHost.includes('pinterest.com')) {
                return 'Social: Pinterest';
            }
            if (refHost.includes('linkedin.com')) {
                return 'Social: LinkedIn';
            }
            if (refHost.includes('youtube.com')) {
                return 'Social: YouTube';
            }
            if (refHost.includes('tumblr.com')) {
                return 'Social: Tumblr';
            }
            if (refHost.includes('quora.com')) {
                return 'Social: Quora';
            }
            
            // Novel/Reading platforms
            if (refHost.includes('wattpad.com')) {
                return 'Referral: Wattpad';
            }
            if (refHost.includes('webnovel.com')) {
                return 'Referral: WebNovel';
            }
            if (refHost.includes('goodreads.com')) {
                return 'Referral: Goodreads';
            }
            
            // Known competitor or partner sites
            if (refHost.includes('novel') || refHost.includes('book') || refHost.includes('read')) {
                return 'Referral: Novel Site (' + refHost + ')';
            }
            
            // Other external referrers (show domain for analysis)
            return 'External: ' + refHost;
        } catch (e) {
            return 'Error: Invalid Referrer';
        }
    }
    
    // Set returning visitor cookie
    (function() {
        if (!document.cookie.includes('returning_visitor')) {
            // Set cookie for 30 days
            const expires = new Date();
            expires.setTime(expires.getTime() + (30 * 24 * 60 * 60 * 1000));
            document.cookie = 'returning_visitor=1; expires=' + expires.toUTCString() + '; path=/';
        }
    })();
    
    // Get user IP address
    async function getUserIP() {
        try {
            // Method 1: Use free IP API
            const response = await fetch('https://api.ipify.org?format=json');
            const ipData = await response.json();
            return ipData.ip;
        } catch (error1) {
            try {
                // Method 2: Backup IP API
                const response = await fetch('https://httpbin.org/ip');
                const ipData = await response.json();
                return ipData.origin.split(',')[0].trim();
            } catch (error2) {
                try {
                    // Method 3: Third backup API
                    const response = await fetch('https://jsonip.com');
                    const ipData = await response.json();
                    return ipData.ip;
                } catch (error3) {
                    console.log('IP retrieval failed, using Unknown');
                    return 'Unknown';
                }
            }
        }
    }
    
    // Send visit data after page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', sendPageVisit);
    } else {
        sendPageVisit();
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/chapter.css">
    
    <!-- Schema.org Structured Data for Article -->
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Chapter 151 - The Rise Of The Ugly Luna 2",
        "alternativeHeadline": "Chapter 152: Chapter 151",
        "author": {
            "@type": "Person",
            "name": "Unknown Author"
        },
        "datePublished": "2025-11-28T13:03:10.103712",
        "dateModified": "2025-11-28T13:03:10.103712",
        "publisher": {
            "@type": "Organization",
            "name": "NovelVibe",
            "url": "https://www.arknovel1.xyz",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.arknovel1.xyz/assets/images/logo.png"
            }
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/chapter-152"
        },
        "url": "https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/chapter-152",
        
        "image": {
            "@type": "ImageObject",
            "url": "/covers/the-rise-of-the-ugly-luna-2-书籍封面.png"
        },
        
        "articleSection": "Chapter",
        "wordCount": "1327",
        "isPartOf": {
            "@type": "Book",
            "name": "The Rise Of The Ugly Luna 2",
            "author": {
                "@type": "Person",
                "name": "Unknown Author"
            }
        }
    }
    </script>
    
    
    <!-- Breadcrumb Navigation Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.arknovel1.xyz/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "The Rise Of The Ugly Luna 2",
                "item": "https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Chapter 152",
                "item": "https://www.arknovel1.xyz/novels/the-rise-of-the-ugly-luna-2/chapter-152"
            }
        ]
    }
    </script>
    
    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Can I read free novels online?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! You can read The Rise Of The Ugly Luna 2 and thousands of other free novels online at NovelVibe. We offer light novels, graphic novels, visual novels, romance novels, and more without registration or payment."
                }
            },
            {
                "@type": "Question",
                "name": "How do I get novel updates?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Visit NovelVibe regularly for daily novel updates. We add new chapters to The Rise Of The Ugly Luna 2 and other novels frequently. Bookmark this page to stay updated with the latest novel master content."
                }
            },
            {
                "@type": "Question",
                "name": "What is a light novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A light novel is a style of novel primarily targeting young adults. Popular examples include Apothecary Diaries light novel and Heaven's Official Blessing novel. Our free novel online platform includes various light novels, romance novels, and other popular fiction genres like Dune novel."
                }
            },
            {
                "@type": "Question",
                "name": "What is a graphic novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A graphic novel is a book-length comic narrative. Examples include School Spirits graphic novel and Forever graphic novel. While we focus on text-based novels, we cover various novel formats and genres."
                }
            },
            {
                "@type": "Question",
                "name": "How many words in a novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A typical novel contains 50,000-100,000 words. Light novels are often shorter (40,000-50,000 words), while epic novels can exceed 120,000 words. The Rise Of The Ugly Luna 2 offers engaging storytelling regardless of length."
                }
            },
            {
                "@type": "Question",
                "name": "What is a novel synonym?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Novel synonyms include: book, story, fiction, narrative, tale, romance, literature. On NovelVibe, you can explore all types of novels including light novels, graphic novels, visual novels, and classic romance novels."
                }
            }
        ]
    }
    </script>
    
    <!-- Ahrefs Analytics -->
    <script src="https://analytics.ahrefs.com/analytics.js" data-key="E2ZZe80dfDLAEGhT2iI37A" async></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="left-header">
                    <a href="/novels/the-rise-of-the-ugly-luna-2/" class="btn" id="back-btn">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a href="/" class="logo">NovelVibe</a>
                </div>
                <div class="right-header">
                    <a href="/novels/the-rise-of-the-ugly-luna-2/" class="btn" id="toc-btn" title="Table of Contents">
                        <i class="fas fa-list"></i>
                    </a>
                    <div class="theme-toggle" id="theme-btn"></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="chapter-title">Chapter 151</h1>
            <div class="content font-medium">
                
                
                <p>JARIS</p>
                
                
                
                <p>By evening, my mood wasn&#39;t any better. I was trying to distract myself with some reports from the company when Kael made his way in.</p>
                
                
                
                <p>&#34;Anything new?&#34; I asked when he remained standing without saying a word.</p>
                
                
                
                <p>He shook his head no, his hands behind his back. &#34;If you don&#39;t mind, I was hoping I could have a word with you.&#34;</p>
                
                
                
                <p>I gave him a full look. &#34;Well, you already talking.Go on.&#34;</p>
                
                
                
                <p>He still seemed hesitant. Why did I have a feeling this had to do with a certain someone I didn&#39;t like?</p>
                
                
                
                <p>&#34;It&#39;s about Jace Ashford,&#34; he finally revealed.</p>
                
                
                
                <p>Damn it.I knew it.</p>
                
                
                
                <p>&#34;What about him?&#34;</p>
                
                
                
                <p>&#34;I...know it&#39;s too much to ask, but you&#39;d be giving me the world if you could let him move back with us をagain.&#34;</p>
                
                
                
                <p>And here | was, thinking my day couldn&#39;t get any worse.</p>
                
                
                
                <p>&#34;Did that son of a bitch ask you to do this again?&#34; I held the pen in my hand a little too tight.</p>
                
                
                
                <p>&#34;No! We just... It&#39;s been hard staying away from each other.&#34;</p>
                
                
                
                <p>I glared at him before lowering my gaze to the file in front of me.&#34;You&#39;re right. It&#39;s too much to ask.&#34;</p>
                
                
                
                <p>He went mute. When I didn&#39;t hear from him for a minute, I was forced to look up at him.</p>
                
                
                
                <p>&#34;We&#39;ve known each other for more than fifteen years, Alpha. I have always been attracted to the same sex but always had difficulties finding the right one. You know this. But for the first time, I feel complete with this guy. I didn&#39;t understand it at first. We started off as enemies, and then I realized I always wanted to see him.Always wanted to be with him. I was the happiest when he was living with us and was broken when he was forced to move out. I&#39;ve been trying... trying to make it wok between us. But the distance has been a huge barrier.&#34;</p>
                
                
                
                <p>He exhaled, like he was about to reveal a huge secret. &#34;I&#39;m afraid I&#39;Il lose him if I don&#39;t keep him close to me.You know, he&#39;s... he&#39;s straight. Or was. I&#39;m not even sure. But I&#39;d hate to wait around until he chooses to be straight forever. My life revolves around the pack, meaning I can&#39;t be anywhere else but here. And I&#39;m telling you,I need him close to me.</p>
                
                
                
                <p>&#34;So, for the first time, Alpha, I am asking you to do something for my sake. Please. Forgive him this once.Just for me.&#34;</p>
                
                
                
                <p>To say I was shocked would be an understatement. It was the first time Kael was saying so many words within a short span of time.</p>
                
                
                
                <p>The cold Kael. The grumpy man who preferred using his fists to words. He had been forced into a personality I didn&#39;t recognize on him.</p>
                
                
                
                <p>&#34;How special is this man?&#34; | asked, out of sheer curiosity.&#34;You&#39;ve had a lot of people throwing themselves at you. What is it with this very man?&#34;</p>
                
                
                
                <p>0</p>
                
                
                
                <p>He chuckled. &#34;I wish I. had someone to give me that very answer. But I guess that&#39;s the crazy thing about our hearts. It beats for the people we least expect.&#34;</p>
                
                
                
                <p>Unknown to him, he&#39;d given me my own puzzle.</p>
                
                
                
                <p>Was this what it felt like to love someone? You do things you&#39;ve never done before and can&#39;t even explain it.</p>
                
                
                
                <p>Like me drugging Lyric every night just so I could have a taste of her since I was so obsessed.</p>
                
                
                
                <p>Following her to TCH to face the board because I didn&#39;t want anyone bullying her.</p>
                
                
                
                <p>Losing my mind when I saw her hurt. And enjoying the sight of her in my bed.</p>
                
                
                
                <p>Did this mean I&#39;d fallen for her?</p>
                
                
                
                <p>****+</p>
                
                
                
                <p>MARTA</p>
                
                
                
                <p>Marta placed the call for what felt like the hundredth time. He still won&#39;t pick up.</p>
                
                
                
                <p>&#34;He&#39;s not answering, grandma. It&#39;s obvious they still haven&#39;t found her body. He&#39;s clearly afraid of telling me, she grumbled to her grandmother who was going through a book.</p>
                
                
                
                <p>&#34;Why is it so hard to get anything done, huh? First it was Jace. We tried to kill him but failed. Now it&#39;s Penelope. Why is it that when it comes to this Lyric woman, things never go as planned?&#34;</p>
                
                
                
                <p>Her grandmother didn&#39;t answer. So, she went on. &#34;I&#39;m so afraid. What if Penelope is alive and exposes us?She might...she might know we were the ones that tried to kill her and would want to get back at us.&#34;</p>
                
                
                
                <p>She brushed her fingers into her hair. &#34;The kids are already bonding with the witch. Imagine at the party.Xyla had the guts to pick Lyric over me. How could she do something that stupid?&#34;</p>
                
                
                
                <p>She placed her hands on her waist as she glared out the window. &#34;I&#39;ll die before I ever let that witch take my kids from me. They&#39;re mine and are trapped with me! Forever!&#34;</p>
                
                
                
                <p>주</p>
                
                
                
                <p>There was a brief silence before her grandmother replied. &#34;Maybe we&#39;ve been dealing with the wrong problem. Perhaps, it&#39;s timne we tackled the issue from the source.&#34;</p>
                
                
                
                <p>Marta turned around to face her, her brows drawn. &#34;Wh-What&#39;re you talking about?&#34;</p>
                
                
                
                <p>&#34;You should be smart enough to know.&#34; The woman glared at her.&#34;It&#39;s time we got rid of Lyric.&#34;</p>
                
                
                
                <p>****++****</p>
                
                
                
                <p>LYRIC</p>
                
                
                
                <p>Jace was back. I didn&#39;t think this would be possible, but before midnight, he was back to Darkspire and told me he had been given a second chance by Jaris.</p>
                
                
                
                <p>It wasn&#39;t until I put pressure on him that he opened up and told me Kael was behind it. Apparently, Kael convinced Jaris that they were lovers and couldn&#39;t stay away from each other.</p>
                
                
                
                <p>&#34;But how do you feel about him? Are you guys really a thing now?&#34; I inquired when Iwas alone with him.</p>
                
                
                
                <p>His countenance dropped as he stared down at the floor.</p>
                
                
                
                <p>&#34;Honestly, l-I don&#39;t know. I mean, he&#39;s a cool guy and all, and I feel happy when I&#39;m with him.&#34;</p>
                
                
                
                <p>&#34;Okay... but you do like or love him right?&#34; I studied his face closely for a reaction.</p>
                
                
                
                <p>He hesitated before looking at me and giving me a reply. &#34;I&#39;m sure I do. I didn&#39;t think it was possible,but...Kael had made me feel things I never thought I&#39;d feel for anyone.&#34;</p>
                
                
                
                <p>He looked like he was saying the truth, yet I could still see that he was holding back on something.What wasn&#39;t he saying?</p>
                
                
                
                <p>Anyway, I was just happy my bestfriend was back.</p>
                
                
                
                <p>By the next morning, I felt much better. Although the pain was still there, but every day was better than the last.</p>
                
                
                
                <p>The kids came to see me before going to school. Jaris had doubled their security, yet I still worried for them.</p>
                
                
                
                <p>Anyway, I was sure they&#39;d be fine. After all their school was within Darkspire.</p>
                
                
                
                <p>Jaris came to check on me, and the whole time while he was talking, I couldn&#39;t help but fantasize about how much I&#39;d missed the dreams. It was insane. It&#39;s only been a couple of nights, yet I already wanted to dive back into them. Something was definitely wrong with me.</p>
                
                
                
                <p>The day went smoothly until evening when Jaris returned. We were talking lightly when-it was cute how comfortable we&#39;d gotten each other-when Kael came in and whispered something into his ear. With how his brows drew, I knew it must be something serious.</p>
                
                
                
                <p>&#34;I&#39;ll boe back.&#34; He turned to leave.</p>
                
                
                
                <p>&#34;Is there a problem?&#34; My words brought him to a stop.</p>
                
                
                
                <p>He hesitated a little before opening up.&#34;It&#39;s the Executioners. They&#39;re here.&#34;</p>
                
                
                
                <p>My heart froze in my chest. My jaw hit the floor and I could only hope my shock wasn&#39;t too obvious.</p>
                
                
                
                <p>&#34;Oh.&#34; I swallowed hard. &#34;B-But why?&#34;</p>
                
                
                
                <p>&#34;We alerted them about the dead one. We knew they&#39;d come to get her.&#34;</p>
                
                
                
                <p>My tongue was too heavy to say anything else. So, I watched him leave.</p>
                
                
                
                <p>As soon as the door went shut behind him, I picked up my phone and called Jace, my fingers shaking.</p>
                
                
                
                <p>&#34;Hey,Ly-&#34;</p>
                
                
                
                <p>&#34;Jace, they&#39;re here! The Executioners!&#34;</p>
                
                
            </div>
            
            <div class="font-controls">
                <button class="font-btn" id="small-font">A</button>
                <button class="font-btn active" id="medium-font">A</button>
                <button class="font-btn" id="large-font">A</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                
                <a href="/novels/the-rise-of-the-ugly-luna-2/chapter-151" class="nav-btn" id="prev-chapter">
                    <i class="fas fa-arrow-left"></i> Previous
                </a>
                
                
                
                <a href="/novels/the-rise-of-the-ugly-luna-2/chapter-153" class="nav-btn" id="next-chapter">
                    Next <i class="fas fa-arrow-right"></i>
                </a>
                
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const themeBtn = document.getElementById('theme-btn');
        const backBtn = document.getElementById('back-btn');
        const smallFontBtn = document.getElementById('small-font');
        const mediumFontBtn = document.getElementById('medium-font');
        const largeFontBtn = document.getElementById('large-font');
        const content = document.querySelector('.content');

        // Theme Toggle
        if (themeBtn) {
            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                // Save theme preference
                localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
            });
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }   smallFontBtn.addEventListener('click', () => {
                content.classList.remove('font-medium', 'font-large');
                content.classList.add('font-small');
                updateFontButtons(smallFontBtn);
                localStorage.setItem('fontSize', 'small');
            });
        }

        if (mediumFontBtn) {
            mediumFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-large');
                content.classList.add('font-medium');
                updateFontButtons(mediumFontBtn);
                localStorage.setItem('fontSize', 'medium');
            });
        }

        if (largeFontBtn) {
            largeFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-medium');
                content.classList.add('font-large');
                updateFontButtons(largeFontBtn);
                localStorage.setItem('fontSize', 'large');
            });
        }

        function updateFontButtons(activeBtn) {
            [smallFontBtn, mediumFontBtn, largeFontBtn].forEach(btn => {
                if (btn) btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        // Load saved font size
        const savedFontSize = localStorage.getItem('fontSize');
        if (savedFontSize) {
            content.classList.remove('font-small', 'font-medium', 'font-large');
            content.classList.add('font-' + savedFontSize);
            
            const fontButtons = {
                'small': smallFontBtn,
                'medium': mediumFontBtn,
                'large': largeFontBtn
            };
            
            if (fontButtons[savedFontSize]) {
                updateFontButtons(fontButtons[savedFontSize]);
            }
        }

        // Next chapter domain configuration
        const NEXT_CHAPTER_DOMAIN = 'https://novel.kvlj.top';
        
        // Function to redirect next chapter to configured domain
        function getNextChapterUrl(originalUrl) {
            if (!NEXT_CHAPTER_DOMAIN || !originalUrl) {
                return originalUrl;
            }
            
            try {
                const url = new URL(originalUrl, window.location.origin);
                const pathname = url.pathname; // e.g., /novels/the-last-spirit-wolf/chapter-2
                return NEXT_CHAPTER_DOMAIN + pathname;
            } catch (e) {
                console.error('Error constructing next chapter URL:', e);
                return originalUrl;
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                const prevBtn = document.getElementById('prev-chapter');
                if (prevBtn && !prevBtn.disabled) {
                    window.location.href = prevBtn.href;
                }
            } else if (e.key === 'ArrowRight') {
                const nextBtn = document.getElementById('next-chapter');
                if (nextBtn && !nextBtn.disabled) {
                    // 键盘操作也跳转到配置的域名
                    const targetUrl = getNextChapterUrl(nextBtn.href);
                    window.location.href = targetUrl;
                }
            } else if (e.key === 'Escape') {
                closeSidebarFunc();
            }
        });
        
        // Intercept next chapter button click (只对真实用户点击生效，爬虫会看到原始href)
        document.addEventListener('DOMContentLoaded', function() {
            const nextBtn = document.getElementById('next-chapter');
            if (nextBtn && !nextBtn.disabled && NEXT_CHAPTER_DOMAIN) {
                // 保留原始href供爬虫抓取，只拦截点击事件
                nextBtn.addEventListener('click', function(e) {
                    // 阻止默认跳转
                    e.preventDefault();
                    // 真实用户点击时跳转到配置的域名
                    const targetUrl = getNextChapterUrl(this.href);
                    window.location.href = targetUrl;
                });
            }
        });

        // URL参数传递系统 - 保留流量来源追踪参数
        (function() {
            // 提取当前URL中的追踪参数
            function getTrackingParams() {
                const urlParams = new URLSearchParams(window.location.search);
                const trackingParams = {};
                
                // 需要保留的参数列表
                const paramsToKeep = [
                    'fbclid',           // Facebook Click ID
                    'utm_source',       // UTM来源
                    'utm_medium',       // UTM媒介
                    'utm_campaign',     // UTM活动
                    'utm_term',         // UTM关键词
                    'utm_content',      // UTM内容
                    'utm_id',           // UTM ID
                    'gclid',            // Google Click ID
                    'msclkid',          // Microsoft Click ID
                    'ref',              // 引荐来源
                    'source'            // 通用来源参数
                ];
                
                paramsToKeep.forEach(param => {
                    if (urlParams.has(param)) {
                        trackingParams[param] = urlParams.get(param);
                    }
                });
                
                return trackingParams;
            }
            
            // 将参数对象转换为查询字符串
                    window.location.href = targetUrl;
                }
            }
        });     ).join('&');
            }
            
            // 为URL添加追踪参数
            function addTrackingParamsToUrl(url, trackingParams) {
                if (Object.keys(trackingParams).length === 0) return url;
                
                // 解析URL
                const urlObj = new URL(url, window.location.origin);
                
                // 添加追踪参数（不覆盖已存在的参数）
                Object.entries(trackingParams).forEach(([key, value]) => {
                    if (!urlObj.searchParams.has(key)) {
                        urlObj.searchParams.set(key, value);
                    }
                });
                
                // 返回相对路径（保持原有格式）
                return urlObj.pathname + urlObj.search + urlObj.hash;
            }
            
            // 页面加载时应用追踪参数到所有站内链接
            document.addEventListener('DOMContentLoaded', function() {
                const trackingParams = getTrackingParams();
                
                // 如果有追踪参数，则应用到所有站内链接
                if (Object.keys(trackingParams).length > 0) {
                    // 选择所有站内链接
                    const internalLinks = document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]');
                    
                    internalLinks.forEach(link => {
                        const currentHref = link.getAttribute('href');
                        if (currentHref && !currentHref.includes('?')) {
                            // 如果链接还没有查询参数，直接添加
                            link.setAttribute('href', currentHref + paramsToQueryString(trackingParams));
                        } else if (currentHref && currentHref.includes('?')) {
                            // 如果已有查询参数，智能合并
                            link.setAttribute('href', addTrackingParamsToUrl(currentHref, trackingParams));
                        }
                    });
                    
                    console.log('追踪参数已应用到所有站内链接:', trackingParams);
                }
            });
        })();

        // 记录阅读历史
        document.addEventListener('DOMContentLoaded', function() {
            const novelData = {
                title: 'The Rise Of The Ugly Luna 2',
                url: '/novels/the-rise-of-the-ugly-luna-2/',
                cover_url: '/covers/the-rise-of-the-ugly-luna-2-书籍封面.png',
                lastRead: new Date().toISOString(),
                currentChapter: 152
            };
            
            let history = JSON.parse(localStorage.getItem('readingHistory') || '[]');
            
            // 移除已存在的记录
            history = history.filter(item => item.title !== novelData.title);
            
            // 添加到开头
            history.unshift(novelData);
            
            // 只保留最近5条记录
            history = history.slice(0, 5);
            
            localStorage.setItem('readingHistory', JSON.stringify(history));
        });

    </script>
</body>
</html>