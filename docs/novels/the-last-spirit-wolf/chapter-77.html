<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 77 - The Last Spirit Wolf | Free Novel Online - NovelVibe</title>
    <meta name="description" content="Read The Last Spirit Wolf Chapter 77 on NovelVibe - Free werewolf romance novels">
    <meta name="keywords" content="free novel online, werewolf, alpha, pack, novel updates, light novel, apothecary diaries light novel, heavens official blessing novel, dune novel, read novel free, online novel, romance novel, graphic novel, visual novel, novel master, novel synonym, school spirits graphic novel, how many words in a novel, free novels online">
    <meta name="robots" content="index, follow">
    
    <!-- Time Meta Tags for SEO -->
    
    <meta property="article:published_time" content="2025-11-28T13:03:10.002473">
    <meta property="article:modified_time" content="2025-11-28T13:03:10.002473">
    <meta name="date" content="2025-11-28">
    <meta name="last-modified" content="2025-11-28 13:03:10">
    
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Chapter 77">
    <meta property="og:description" content="Read The Last Spirit Wolf online for free">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.arknovel1.xyz/novels/the-last-spirit-wolf/chapter-77">
    <meta property="og:image" content="/covers/the-last-spirit-wolf-书籍封面.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Chapter 77">
    <meta name="twitter:description" content="Read The Last Spirit Wolf online">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.arknovel1.xyz/novels/the-last-spirit-wolf/chapter-77">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KM9R2XBQSL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KM9R2XBQSL');
    </script>
    
    <!-- Page Visit Statistics Code -->
    <script>
    // Page visit data collection
    function sendPageVisit() {
        // First get user IP address
        getUserIP().then(userIP => {
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: userIP,
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            // Send data to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        }).catch(error => {
            // If IP retrieval fails, still send other data
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: 'Unknown',
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        });
    }
    
    // Get referrer source (traffic source detection) - Enhanced version
    function getReferrerSource() {
        const referrer = document.referrer || '';
        const urlParams = new URLSearchParams(window.location.search);
        const currentPath = window.location.pathname;
        
        // Check URL parameters first (for tracking campaigns)
        if (urlParams.has('utm_source')) {
            const source = urlParams.get('utm_source');
            const medium = urlParams.get('utm_medium') || '';
            const campaign = urlParams.get('utm_campaign') || '';
            return `UTM Campaign: ${source}${medium ? '/' + medium : ''}${campaign ? '/' + campaign : ''}`;
        }
        if (urlParams.has('fbclid')) {
            return 'Paid: Facebook Ads';
        }
        if (urlParams.has('gclid')) {
            return 'Paid: Google Ads';
        }
        
        // If no referrer, it's direct traffic
        if (!referrer) {
            // Try to distinguish different types of direct traffic
            if (document.cookie.includes('returning_visitor')) {
                return 'Direct: Returning Visitor';
            }
            return 'Direct: First Visit or Bookmark';
        }
        
        // Parse referrer URL
        try {
            const refUrl = new URL(referrer);
            const refHost = refUrl.hostname.toLowerCase();
            const refPath = refUrl.pathname;
            
            // Check if it's from same domain (internal navigation)
            if (refHost === window.location.hostname) {
                // Detect specific internal pages
                if (refPath === '/' || refPath === '/index.html') {
                    return 'Internal: From Homepage';
                } else if (refPath.includes('/novels/') && !refPath.includes('/chapter-')) {
                    return 'Internal: From Novel Detail Page';
                } else if (refPath.includes('/chapter-')) {
                    return 'Internal: From Another Chapter';
                } else if (refPath.includes('/all-novels')) {
                    return 'Internal: From All Novels List';
                } else {
                    return 'Internal: Site Navigation';
                }
            }
            
            // Search Engines
            if (refHost.includes('google.')) {
                // Try to detect organic vs images
                if (refPath.includes('/imgres')) {
                    return 'Organic: Google Images';
                }
                return 'Organic: Google Search';
            }
            if (refHost.includes('bing.com')) {
                return 'Organic: Bing Search';
            }
            if (refHost.includes('yahoo.com')) {
                return 'Organic: Yahoo Search';
            }
            if (refHost.includes('duckduckgo.com')) {
                return 'Organic: DuckDuckGo';
            }
            if (refHost.includes('baidu.com')) {
                return 'Organic: Baidu Search';
            }
            
            // Social Media Platforms
            if (refHost.includes('facebook.com') || refHost.includes('fb.com')) {
                return 'Social: Facebook';
            }
            if (refHost.includes('instagram.com')) {
                return 'Social: Instagram';
            }
            if (refHost.includes('twitter.com') || refHost.includes('t.co')) {
                return 'Social: Twitter/X';
            }
            if (refHost.includes('tiktok.com')) {
                return 'Social: TikTok';
            }
            if (refHost.includes('reddit.com')) {
                return 'Social: Reddit';
            }
            if (refHost.includes('pinterest.com')) {
                return 'Social: Pinterest';
            }
            if (refHost.includes('linkedin.com')) {
                return 'Social: LinkedIn';
            }
            if (refHost.includes('youtube.com')) {
                return 'Social: YouTube';
            }
            if (refHost.includes('tumblr.com')) {
                return 'Social: Tumblr';
            }
            if (refHost.includes('quora.com')) {
                return 'Social: Quora';
            }
            
            // Novel/Reading platforms
            if (refHost.includes('wattpad.com')) {
                return 'Referral: Wattpad';
            }
            if (refHost.includes('webnovel.com')) {
                return 'Referral: WebNovel';
            }
            if (refHost.includes('goodreads.com')) {
                return 'Referral: Goodreads';
            }
            
            // Known competitor or partner sites
            if (refHost.includes('novel') || refHost.includes('book') || refHost.includes('read')) {
                return 'Referral: Novel Site (' + refHost + ')';
            }
            
            // Other external referrers (show domain for analysis)
            return 'External: ' + refHost;
        } catch (e) {
            return 'Error: Invalid Referrer';
        }
    }
    
    // Set returning visitor cookie
    (function() {
        if (!document.cookie.includes('returning_visitor')) {
            // Set cookie for 30 days
            const expires = new Date();
            expires.setTime(expires.getTime() + (30 * 24 * 60 * 60 * 1000));
            document.cookie = 'returning_visitor=1; expires=' + expires.toUTCString() + '; path=/';
        }
    })();
    
    // Get user IP address
    async function getUserIP() {
        try {
            // Method 1: Use free IP API
            const response = await fetch('https://api.ipify.org?format=json');
            const ipData = await response.json();
            return ipData.ip;
        } catch (error1) {
            try {
                // Method 2: Backup IP API
                const response = await fetch('https://httpbin.org/ip');
                const ipData = await response.json();
                return ipData.origin.split(',')[0].trim();
            } catch (error2) {
                try {
                    // Method 3: Third backup API
                    const response = await fetch('https://jsonip.com');
                    const ipData = await response.json();
                    return ipData.ip;
                } catch (error3) {
                    console.log('IP retrieval failed, using Unknown');
                    return 'Unknown';
                }
            }
        }
    }
    
    // Send visit data after page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', sendPageVisit);
    } else {
        sendPageVisit();
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/chapter.css">
    
    <!-- Schema.org Structured Data for Article -->
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Chapter 77 - The Last Spirit Wolf",
        "alternativeHeadline": "Chapter 77: Chapter 77",
        "author": {
            "@type": "Person",
            "name": "Unknown Author"
        },
        "datePublished": "2025-11-28T13:03:10.002473",
        "dateModified": "2025-11-28T13:03:10.002473",
        "publisher": {
            "@type": "Organization",
            "name": "NovelVibe",
            "url": "https://www.arknovel1.xyz",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.arknovel1.xyz/assets/images/logo.png"
            }
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.arknovel1.xyz/novels/the-last-spirit-wolf/chapter-77"
        },
        "url": "https://www.arknovel1.xyz/novels/the-last-spirit-wolf/chapter-77",
        
        "image": {
            "@type": "ImageObject",
            "url": "/covers/the-last-spirit-wolf-书籍封面.png"
        },
        
        "articleSection": "Chapter",
        "wordCount": "1312",
        "isPartOf": {
            "@type": "Book",
            "name": "The Last Spirit Wolf",
            "author": {
                "@type": "Person",
                "name": "Unknown Author"
            }
        }
    }
    </script>
    
    
    <!-- Breadcrumb Navigation Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.arknovel1.xyz/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "The Last Spirit Wolf",
                "item": "https://www.arknovel1.xyz/novels/the-last-spirit-wolf/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Chapter 77",
                "item": "https://www.arknovel1.xyz/novels/the-last-spirit-wolf/chapter-77"
            }
        ]
    }
    </script>
    
    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Can I read free novels online?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! You can read The Last Spirit Wolf and thousands of other free novels online at NovelVibe. We offer light novels, graphic novels, visual novels, romance novels, and more without registration or payment."
                }
            },
            {
                "@type": "Question",
                "name": "How do I get novel updates?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Visit NovelVibe regularly for daily novel updates. We add new chapters to The Last Spirit Wolf and other novels frequently. Bookmark this page to stay updated with the latest novel master content."
                }
            },
            {
                "@type": "Question",
                "name": "What is a light novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A light novel is a style of novel primarily targeting young adults. Popular examples include Apothecary Diaries light novel and Heaven's Official Blessing novel. Our free novel online platform includes various light novels, romance novels, and other popular fiction genres like Dune novel."
                }
            },
            {
                "@type": "Question",
                "name": "What is a graphic novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A graphic novel is a book-length comic narrative. Examples include School Spirits graphic novel and Forever graphic novel. While we focus on text-based novels, we cover various novel formats and genres."
                }
            },
            {
                "@type": "Question",
                "name": "How many words in a novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A typical novel contains 50,000-100,000 words. Light novels are often shorter (40,000-50,000 words), while epic novels can exceed 120,000 words. The Last Spirit Wolf offers engaging storytelling regardless of length."
                }
            },
            {
                "@type": "Question",
                "name": "What is a novel synonym?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Novel synonyms include: book, story, fiction, narrative, tale, romance, literature. On NovelVibe, you can explore all types of novels including light novels, graphic novels, visual novels, and classic romance novels."
                }
            }
        ]
    }
    </script>
    
    <!-- Ahrefs Analytics -->
    <script src="https://analytics.ahrefs.com/analytics.js" data-key="E2ZZe80dfDLAEGhT2iI37A" async></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="left-header">
                    <a href="/novels/the-last-spirit-wolf/" class="btn" id="back-btn">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a href="/" class="logo">NovelVibe</a>
                </div>
                <div class="right-header">
                    <a href="/novels/the-last-spirit-wolf/" class="btn" id="toc-btn" title="Table of Contents">
                        <i class="fas fa-list"></i>
                    </a>
                    <div class="theme-toggle" id="theme-btn"></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="chapter-title">Chapter 77</h1>
            <div class="content font-medium">
                
                
                <p>Chapter77</p>
                
                
                
                <p>-Vera-</p>
                
                
                
                <p>I blink to adjust to the darkness of the room; the other realm is quite bright and it takes me a momen</p>
                
                
                
                <p>cus my eyes.</p>
                
                
                
                <p>I fell asleep on my back and with a towel on my hair, so Noah fell asleep next to me with his arm draped around my belly. My heart swells with relief to see he decided not to go after all. I turn around, burying my face on his neck and hugging him. The movement wakes him and he tightens his arm around me, holding me closer.</p>
                
                
                
                <p>&#34;I&#39;&#39;m sorry I didn&#39;&#39;t want to listen to you earlier, V,&#34; he says.</p>
                
                
                
                <p>&#34;I&#39;&#39;m sorry we fought,&#34; I say into his neck.</p>
                
                
                
                <p>&#34;You call that a fight? I&#39;&#39;ll consider it a fight when you start throwing shit at me.&#34;</p>
                
                
                
                <p>&#34;Oh, I wanted to,&#34; I say and heughs, his chest rumbling against mine.</p>
                
                
                
                <p>&#34;You did help use up with a different n, though. I don&#39;&#39;t have to leave the castle; he just has to</p>
                
                
                
                <p>I turn my head to look at him, a clear question on my expression.</p>
                
                
                
                <p>&#34;Don&#39;&#39;t ask, Mason just has a hunch.&#34;Content ? provided by N?velDrama.Org.</p>
                
                
                
                <p>I don&#39;&#39;t even want to ask anymore.</p>
                
                
                
                <p>&#34;Here, I brought you something.&#34;</p>
                
                
                
                <p>He reaches over to the nightstand and retrieves a te, turning on the nightstandmp.</p>
                
                
                
                <p>&#34;They might be cold but no one saw you at dinner so I assumed you missed it.&#34;</p>
                
                
                
                <p>I practically jump him for them. I don&#39;&#39;t know if it&#39;&#39;s the workout, the pent up frustration or the magical</p>
                
                
                
                <p>I moan after taking the first bite.</p>
                
                
                
                <p>&#34;This is amazing,&#34; I say, not even caring that my mouth is full.</p>
                
                
                
                <p>I dig into the rest of them in a minute and Noah is looking thoroughly amused.</p>
                
                
                
                <p>&#34;You&#39;&#39;re a little monster,&#34; he says with augh once I&#39;&#39;m done. Little does he know I&#39;&#39;m still hungry.</p>
                
                
                
                <p>did. Hopefully this encourages him toe out of his hole and when he does, we&#39;&#39; Il be ready for him.&#34;</p>
                
                
                
                <p>to my aunt and grandmother, but I&#39;&#39;m absolutely famished.</p>
                
                
                
                <p>&#34;Well, I did train for three hours because I was angry at you, and then I had a dreamy magical teaching on with my aunt so,&#34; &#34;Magical session? Really?&#34;</p>
                
                
                
                <p>&#34;Oh yeah, and apparently I&#39;&#39;m a freak of nature.&#34;</p>
                
                
                
                <p>&#34;They&#39;&#39;ve seen you eat, too?&#34;</p>
                
                
                
                <p>I throw my bunched up napkin at him and heughs.</p>
                
                
                
                <p>&#34;Apparently, that thing I do in the forest? Get visions from it and all? Isn&#39;&#39;t normal.&#34;</p>
                
                
                
                <p>He frowns,</p>
                
                
                
                <p>&#34;And why isn&#39;&#39;t that normal?&#34;</p>
                
                
                
                <p>&#34;Because the forest is a living being and it doesn&#39;&#39;t show you anything unless you coerce it to.&#34;</p>
                
                
                
                <p>Noah&#39;&#39;s frown deepens.</p>
                
                
                
                <p>&#34;Yeah, I know. I&#39;&#39;m not focusing too much on that, it gives me a headache. What time is it anyway?&#34; I ask him.</p>
                
                
                
                <p>&#34;About 10, you fell asleep pretty early.&#34;</p>
                
                
                
                <p>&#34;And how have the Council meetings gone now that I&#39;&#39;m not there to threaten them?&#34;</p>
                
                
                
                <p>&#34;I&#39;&#39;m intimidating enough on my own, thank you,&#34; he says, &#34;you know, I think they&#39;&#39;re open to a lot of ideas, as long as I don&#39;&#39;t reduce their absurd sry that is.&#34; &#34;Why am I not surprised?&#34; I say sarcastically.</p>
                
                
                
                <p>&#34;Most of them were mostly afraid I would either kill them or exile them, but now that they see that I&#39;&#39;m not a threat, they&#39;&#39;re more cooperative.&#34;</p>
                
                
                
                <p>&#34;Do you think some of them still hold any loyalties to Alistair?&#34;</p>
                
                
                
                <p>&#34;Definitely. Which is why we need to get rid of him, soon.&#34;</p>
                
                
                
                <p>&#34;What about moles?&#34;</p>
                
                
                
                <p>&#34;Several. We&#39;&#39;ve intercepted a few; followed them hoping they&#39;&#39;d lead us to Alistair but it always</p>
                
                
                
                <p>ended up being a dead end. Apparently not even they know where he is.&#34;</p>
                
                
                
                <p>We stay silent for a moment and I turn to look at my hands on myp.</p>
                
                
                
                <p>&#34;Maybe I can help, that whole &#39;&#39;the forest tells me stuff&#34; could work to our advantage.&#34;</p>
                
                
                
                <p>I raise my gaze and look at him, he&#39;&#39;s smiling at me.</p>
                
                
                
                <p>&#34;We could try; honestly everything else we&#39;&#39;ve tried hasn&#39;&#39;t worked.&#34;</p>
                
                
                
                <p>I smile back at him,</p>
                
                
                
                <p>&#34;You know, except for that idiot n of yours earlier today, I have been quite impressed with how you&#39;&#39;re handling everything. You really were born for this.&#34; &#34;Well, I do have to admit it feels good to make changes that will benefit everyone in the long run. I didn&#39;&#39;t realize how abandoned the kingdom was under Alistair. People being attacked by rogues, others starving to death. Entire viges have been abandoned because thend is no good to grow anything anymore. Families disced, drought, grain shortage... It was a matter of time before everything copsed, anyway&#34; he pauses, &#34;how does that work? With wolves, how do you manage the territory?&#34; He asks me. &#34;Hmm... it&#39;&#39;s quite different. We don&#39;&#39;t have a King or Queen for starters. We have five main packs, each with their ownnd to protect and their own Alpha to rule over them. Other than the main Pack Houses which operate much like this castle, there are several viges that live off of the Pack Houses but still respond to the Alpha guarding their respective territories.&#34;</p>
                
                
                
                <p>&#34;And all of the Alphas get along? There isn&#39;&#39;t struggle over territory?&#34;</p>
                
                
                
                <p>&#34;Of course, although it&#39;&#39;s been several decades since thest time any pack fought over territory. We have open trade and mobility amongst all of us; manye to our Pack Clinic because we have the best doctors and facilities, I studied at the Crescent Moon pack because their biology program is the best, and so on. We cooperate amongst ourselves for the most part.&#34;</p>
                
                
                
                <p>&#34;I wonder if that&#39;&#39;s because of the nature of wolves, you guys are pack animals while lycans are not.&#34;</p>
                
                
                
                <p>&#34;Sure, but I actually think it&#39;&#39;s because of the Alphas.&#34; I say, taking a moment to put my thoughts into words, &#34;for us, our main purpose is to serve the good of the many, we are pack animals as you say; but Alphas have the power to lead their pack into war, to coerce everyone in their domain toply with their demands, but they choose not to. We are taught our history, and wars have only ever led to unnecessary deaths. You see, holding on to so much territory has never been possible. It is much more stable this way, and therefore better for everyone.&#34;</p>
                
                
                
                <p>Noah stays silent for a minute,</p>
                
                
                
                <p>&#34;William was telling me that there were noble families before Alistair came to power, they would act as guardians of certain territories; I&#39;&#39;m just wondering if it&#39;&#39;s beneficial to bring them back now. I have a feeling rogues have been taking over these territories because they no longer have the means to defend themselves as they used to.&#34;</p>
                
                
                
                <p>&#34;Probably, but you would have to meet them first. When was thest time you traveled through the kingdom?&#34; &#34;Never.&#34;</p>
                
                
                
                <p>I stare at him, blinking several times.</p>
                
                
                
                <p>&#34;Never?&#34;</p>
                
                
                
                <p>&#34;Warriors are not allowed to leave the castle unless under explicit orders from the King. I&#39;&#39;m starting to understand why that is. Many of us would have deserted if we saw the state of the kingdom.&#34;</p>
                
                
                
                <p>We keep talking for about half an hour more until I yawn, a tear even slipping down my eye. Noahughs.</p>
                
                
                
                <p>&#34;I know I&#39;&#39;m boring you with all this kingdom talk, it&#39;&#39;s boring even to me.&#34;</p>
                
                
                
                <p>&#34;No, you&#39;&#39;re really not, I&#39;&#39;m just ti -&#34;</p>
                
                
                
                <p>Before I can keep protesting. Noah tuns off the nightstandmp and pulls me down with him on the bed. This time, my back is to his chest and in only a few minutes, the steady beat of his heartbeat and breathing lull me to what I thought would be peaceful sleep. Only a few hours after falling asleep. I jolt up from the bed, breathing heavily while cold sweat drips down my forehead.</p>
                
                
                
                <p>Noah jolts up too.</p>
                
                
                
                <p>&#34;Vera, what wrong?&#34;</p>
                
                
                
                <p>&#34;They... they...&#34;</p>
                
                
                
                <p>He turns on themp to look at me,</p>
                
                
                
                <p>I have tears streaming down my eyes and I can&#39;&#39;t control them.</p>
                
                
                
                <p>&#34;They&#39;&#39;reing.&#34;</p>
                
                
            </div>
            
            <div class="font-controls">
                <button class="font-btn" id="small-font">A</button>
                <button class="font-btn active" id="medium-font">A</button>
                <button class="font-btn" id="large-font">A</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                
                <a href="/novels/the-last-spirit-wolf/chapter-76" class="nav-btn" id="prev-chapter">
                    <i class="fas fa-arrow-left"></i> Previous
                </a>
                
                
                
                <a href="/novels/the-last-spirit-wolf/chapter-78" class="nav-btn" id="next-chapter">
                    Next <i class="fas fa-arrow-right"></i>
                </a>
                
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const themeBtn = document.getElementById('theme-btn');
        const backBtn = document.getElementById('back-btn');
        const smallFontBtn = document.getElementById('small-font');
        const mediumFontBtn = document.getElementById('medium-font');
        const largeFontBtn = document.getElementById('large-font');
        const content = document.querySelector('.content');

        // Theme Toggle
        if (themeBtn) {
            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                // Save theme preference
                localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
            });
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }   smallFontBtn.addEventListener('click', () => {
                content.classList.remove('font-medium', 'font-large');
                content.classList.add('font-small');
                updateFontButtons(smallFontBtn);
                localStorage.setItem('fontSize', 'small');
            });
        }

        if (mediumFontBtn) {
            mediumFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-large');
                content.classList.add('font-medium');
                updateFontButtons(mediumFontBtn);
                localStorage.setItem('fontSize', 'medium');
            });
        }

        if (largeFontBtn) {
            largeFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-medium');
                content.classList.add('font-large');
                updateFontButtons(largeFontBtn);
                localStorage.setItem('fontSize', 'large');
            });
        }

        function updateFontButtons(activeBtn) {
            [smallFontBtn, mediumFontBtn, largeFontBtn].forEach(btn => {
                if (btn) btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        // Load saved font size
        const savedFontSize = localStorage.getItem('fontSize');
        if (savedFontSize) {
            content.classList.remove('font-small', 'font-medium', 'font-large');
            content.classList.add('font-' + savedFontSize);
            
            const fontButtons = {
                'small': smallFontBtn,
                'medium': mediumFontBtn,
                'large': largeFontBtn
            };
            
            if (fontButtons[savedFontSize]) {
                updateFontButtons(fontButtons[savedFontSize]);
            }
        }

        // Next chapter domain configuration
        const NEXT_CHAPTER_DOMAIN = 'https://novel.kvlj.top';
        
        // Function to redirect next chapter to configured domain
        function getNextChapterUrl(originalUrl) {
            if (!NEXT_CHAPTER_DOMAIN || !originalUrl) {
                return originalUrl;
            }
            
            try {
                const url = new URL(originalUrl, window.location.origin);
                const pathname = url.pathname; // e.g., /novels/the-last-spirit-wolf/chapter-2
                return NEXT_CHAPTER_DOMAIN + pathname;
            } catch (e) {
                console.error('Error constructing next chapter URL:', e);
                return originalUrl;
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                const prevBtn = document.getElementById('prev-chapter');
                if (prevBtn && !prevBtn.disabled) {
                    window.location.href = prevBtn.href;
                }
            } else if (e.key === 'ArrowRight') {
                const nextBtn = document.getElementById('next-chapter');
                if (nextBtn && !nextBtn.disabled) {
                    // 键盘操作也跳转到配置的域名
                    const targetUrl = getNextChapterUrl(nextBtn.href);
                    window.location.href = targetUrl;
                }
            } else if (e.key === 'Escape') {
                closeSidebarFunc();
            }
        });
        
        // Intercept next chapter button click (只对真实用户点击生效，爬虫会看到原始href)
        document.addEventListener('DOMContentLoaded', function() {
            const nextBtn = document.getElementById('next-chapter');
            if (nextBtn && !nextBtn.disabled && NEXT_CHAPTER_DOMAIN) {
                // 保留原始href供爬虫抓取，只拦截点击事件
                nextBtn.addEventListener('click', function(e) {
                    // 阻止默认跳转
                    e.preventDefault();
                    // 真实用户点击时跳转到配置的域名
                    const targetUrl = getNextChapterUrl(this.href);
                    window.location.href = targetUrl;
                });
            }
        });

        // URL参数传递系统 - 保留流量来源追踪参数
        (function() {
            // 提取当前URL中的追踪参数
            function getTrackingParams() {
                const urlParams = new URLSearchParams(window.location.search);
                const trackingParams = {};
                
                // 需要保留的参数列表
                const paramsToKeep = [
                    'fbclid',           // Facebook Click ID
                    'utm_source',       // UTM来源
                    'utm_medium',       // UTM媒介
                    'utm_campaign',     // UTM活动
                    'utm_term',         // UTM关键词
                    'utm_content',      // UTM内容
                    'utm_id',           // UTM ID
                    'gclid',            // Google Click ID
                    'msclkid',          // Microsoft Click ID
                    'ref',              // 引荐来源
                    'source'            // 通用来源参数
                ];
                
                paramsToKeep.forEach(param => {
                    if (urlParams.has(param)) {
                        trackingParams[param] = urlParams.get(param);
                    }
                });
                
                return trackingParams;
            }
            
            // 将参数对象转换为查询字符串
                    window.location.href = targetUrl;
                }
            }
        });     ).join('&');
            }
            
            // 为URL添加追踪参数
            function addTrackingParamsToUrl(url, trackingParams) {
                if (Object.keys(trackingParams).length === 0) return url;
                
                // 解析URL
                const urlObj = new URL(url, window.location.origin);
                
                // 添加追踪参数（不覆盖已存在的参数）
                Object.entries(trackingParams).forEach(([key, value]) => {
                    if (!urlObj.searchParams.has(key)) {
                        urlObj.searchParams.set(key, value);
                    }
                });
                
                // 返回相对路径（保持原有格式）
                return urlObj.pathname + urlObj.search + urlObj.hash;
            }
            
            // 页面加载时应用追踪参数到所有站内链接
            document.addEventListener('DOMContentLoaded', function() {
                const trackingParams = getTrackingParams();
                
                // 如果有追踪参数，则应用到所有站内链接
                if (Object.keys(trackingParams).length > 0) {
                    // 选择所有站内链接
                    const internalLinks = document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]');
                    
                    internalLinks.forEach(link => {
                        const currentHref = link.getAttribute('href');
                        if (currentHref && !currentHref.includes('?')) {
                            // 如果链接还没有查询参数，直接添加
                            link.setAttribute('href', currentHref + paramsToQueryString(trackingParams));
                        } else if (currentHref && currentHref.includes('?')) {
                            // 如果已有查询参数，智能合并
                            link.setAttribute('href', addTrackingParamsToUrl(currentHref, trackingParams));
                        }
                    });
                    
                    console.log('追踪参数已应用到所有站内链接:', trackingParams);
                }
            });
        })();

        // 记录阅读历史
        document.addEventListener('DOMContentLoaded', function() {
            const novelData = {
                title: 'The Last Spirit Wolf',
                url: '/novels/the-last-spirit-wolf/',
                cover_url: '/covers/the-last-spirit-wolf-书籍封面.png',
                lastRead: new Date().toISOString(),
                currentChapter: 77
            };
            
            let history = JSON.parse(localStorage.getItem('readingHistory') || '[]');
            
            // 移除已存在的记录
            history = history.filter(item => item.title !== novelData.title);
            
            // 添加到开头
            history.unshift(novelData);
            
            // 只保留最近5条记录
            history = history.slice(0, 5);
            
            localStorage.setItem('readingHistory', JSON.stringify(history));
        });

    </script>
</body>
</html>