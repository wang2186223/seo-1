<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 3 - Hell In His Eyes, Heaven In His Kiss | Free Novel Online - NovelVibe</title>
    <meta name="description" content="Read Hell In His Eyes, Heaven In His Kiss Chapter 3 on NovelVibe - Free werewolf romance novels">
    <meta name="keywords" content="free novel online, ceo, billionaire, contemporary, novel updates, light novel, apothecary diaries light novel, heavens official blessing novel, dune novel, read novel free, online novel, romance novel, graphic novel, visual novel, novel master, novel synonym, school spirits graphic novel, how many words in a novel, free novels online">
    <meta name="robots" content="index, follow">
    
    <!-- Time Meta Tags for SEO -->
    
    <meta property="article:published_time" content="2025-11-28T13:03:10.141679">
    <meta property="article:modified_time" content="2025-11-28T13:03:10.141679">
    <meta name="date" content="2025-11-28">
    <meta name="last-modified" content="2025-11-28 13:03:10">
    
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Chapter 3">
    <meta property="og:description" content="Read Hell In His Eyes, Heaven In His Kiss online for free">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-3">
    <meta property="og:image" content="/covers/hell-in-his-eyes-heaven-in-his-kiss-书籍封面.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Chapter 3">
    <meta name="twitter:description" content="Read Hell In His Eyes, Heaven In His Kiss online">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-3">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KM9R2XBQSL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-KM9R2XBQSL');
    </script>
    
    <!-- Page Visit Statistics Code -->
    <script>
    // Page visit data collection
    function sendPageVisit() {
        // First get user IP address
        getUserIP().then(userIP => {
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: userIP,
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            // Send data to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        }).catch(error => {
            // If IP retrieval fails, still send other data
            const data = {
                page: window.location.href,
                userAgent: navigator.userAgent,
                userIP: 'Unknown',
                referrer: getReferrerSource(),
                referrerUrl: document.referrer || 'Direct/None'
            };
            
            fetch('https://script.google.com/macros/s/AKfycbyF5Vot_R9Rq_hoZmcPeK_-2rY9tPphz9jLsru1KX7z-krv7-LIJ90fFHSJ0tNJbPQX/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Analytics error:', error);
            });
        });
    }
    
    // Get referrer source (traffic source detection) - Enhanced version
    function getReferrerSource() {
        const referrer = document.referrer || '';
        const urlParams = new URLSearchParams(window.location.search);
        const currentPath = window.location.pathname;
        
        // Check URL parameters first (for tracking campaigns)
        if (urlParams.has('utm_source')) {
            const source = urlParams.get('utm_source');
            const medium = urlParams.get('utm_medium') || '';
            const campaign = urlParams.get('utm_campaign') || '';
            return `UTM Campaign: ${source}${medium ? '/' + medium : ''}${campaign ? '/' + campaign : ''}`;
        }
        if (urlParams.has('fbclid')) {
            return 'Paid: Facebook Ads';
        }
        if (urlParams.has('gclid')) {
            return 'Paid: Google Ads';
        }
        
        // If no referrer, it's direct traffic
        if (!referrer) {
            // Try to distinguish different types of direct traffic
            if (document.cookie.includes('returning_visitor')) {
                return 'Direct: Returning Visitor';
            }
            return 'Direct: First Visit or Bookmark';
        }
        
        // Parse referrer URL
        try {
            const refUrl = new URL(referrer);
            const refHost = refUrl.hostname.toLowerCase();
            const refPath = refUrl.pathname;
            
            // Check if it's from same domain (internal navigation)
            if (refHost === window.location.hostname) {
                // Detect specific internal pages
                if (refPath === '/' || refPath === '/index.html') {
                    return 'Internal: From Homepage';
                } else if (refPath.includes('/novels/') && !refPath.includes('/chapter-')) {
                    return 'Internal: From Novel Detail Page';
                } else if (refPath.includes('/chapter-')) {
                    return 'Internal: From Another Chapter';
                } else if (refPath.includes('/all-novels')) {
                    return 'Internal: From All Novels List';
                } else {
                    return 'Internal: Site Navigation';
                }
            }
            
            // Search Engines
            if (refHost.includes('google.')) {
                // Try to detect organic vs images
                if (refPath.includes('/imgres')) {
                    return 'Organic: Google Images';
                }
                return 'Organic: Google Search';
            }
            if (refHost.includes('bing.com')) {
                return 'Organic: Bing Search';
            }
            if (refHost.includes('yahoo.com')) {
                return 'Organic: Yahoo Search';
            }
            if (refHost.includes('duckduckgo.com')) {
                return 'Organic: DuckDuckGo';
            }
            if (refHost.includes('baidu.com')) {
                return 'Organic: Baidu Search';
            }
            
            // Social Media Platforms
            if (refHost.includes('facebook.com') || refHost.includes('fb.com')) {
                return 'Social: Facebook';
            }
            if (refHost.includes('instagram.com')) {
                return 'Social: Instagram';
            }
            if (refHost.includes('twitter.com') || refHost.includes('t.co')) {
                return 'Social: Twitter/X';
            }
            if (refHost.includes('tiktok.com')) {
                return 'Social: TikTok';
            }
            if (refHost.includes('reddit.com')) {
                return 'Social: Reddit';
            }
            if (refHost.includes('pinterest.com')) {
                return 'Social: Pinterest';
            }
            if (refHost.includes('linkedin.com')) {
                return 'Social: LinkedIn';
            }
            if (refHost.includes('youtube.com')) {
                return 'Social: YouTube';
            }
            if (refHost.includes('tumblr.com')) {
                return 'Social: Tumblr';
            }
            if (refHost.includes('quora.com')) {
                return 'Social: Quora';
            }
            
            // Novel/Reading platforms
            if (refHost.includes('wattpad.com')) {
                return 'Referral: Wattpad';
            }
            if (refHost.includes('webnovel.com')) {
                return 'Referral: WebNovel';
            }
            if (refHost.includes('goodreads.com')) {
                return 'Referral: Goodreads';
            }
            
            // Known competitor or partner sites
            if (refHost.includes('novel') || refHost.includes('book') || refHost.includes('read')) {
                return 'Referral: Novel Site (' + refHost + ')';
            }
            
            // Other external referrers (show domain for analysis)
            return 'External: ' + refHost;
        } catch (e) {
            return 'Error: Invalid Referrer';
        }
    }
    
    // Set returning visitor cookie
    (function() {
        if (!document.cookie.includes('returning_visitor')) {
            // Set cookie for 30 days
            const expires = new Date();
            expires.setTime(expires.getTime() + (30 * 24 * 60 * 60 * 1000));
            document.cookie = 'returning_visitor=1; expires=' + expires.toUTCString() + '; path=/';
        }
    })();
    
    // Get user IP address
    async function getUserIP() {
        try {
            // Method 1: Use free IP API
            const response = await fetch('https://api.ipify.org?format=json');
            const ipData = await response.json();
            return ipData.ip;
        } catch (error1) {
            try {
                // Method 2: Backup IP API
                const response = await fetch('https://httpbin.org/ip');
                const ipData = await response.json();
                return ipData.origin.split(',')[0].trim();
            } catch (error2) {
                try {
                    // Method 3: Third backup API
                    const response = await fetch('https://jsonip.com');
                    const ipData = await response.json();
                    return ipData.ip;
                } catch (error3) {
                    console.log('IP retrieval failed, using Unknown');
                    return 'Unknown';
                }
            }
        }
    }
    
    // Send visit data after page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', sendPageVisit);
    } else {
        sendPageVisit();
    }
    </script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/assets/css/chapter.css">
    
    <!-- Schema.org Structured Data for Article -->
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "Chapter 3 - Hell In His Eyes, Heaven In His Kiss",
        "alternativeHeadline": "Chapter 3: Chapter 3",
        "author": {
            "@type": "Person",
            "name": "Unknown Author"
        },
        "datePublished": "2025-11-28T13:03:10.141679",
        "dateModified": "2025-11-28T13:03:10.141679",
        "publisher": {
            "@type": "Organization",
            "name": "NovelVibe",
            "url": "https://www.arknovel1.xyz",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.arknovel1.xyz/assets/images/logo.png"
            }
        },
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-3"
        },
        "url": "https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-3",
        
        "image": {
            "@type": "ImageObject",
            "url": "/covers/hell-in-his-eyes-heaven-in-his-kiss-书籍封面.png"
        },
        
        "articleSection": "Chapter",
        "wordCount": "1098",
        "isPartOf": {
            "@type": "Book",
            "name": "Hell In His Eyes, Heaven In His Kiss",
            "author": {
                "@type": "Person",
                "name": "Unknown Author"
            }
        }
    }
    </script>
    
    
    <!-- Breadcrumb Navigation Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.arknovel1.xyz/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Hell In His Eyes, Heaven In His Kiss",
                "item": "https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": "Chapter 3",
                "item": "https://www.arknovel1.xyz/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-3"
            }
        ]
    }
    </script>
    
    <!-- FAQ Schema for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "Can I read free novels online?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Yes! You can read Hell In His Eyes, Heaven In His Kiss and thousands of other free novels online at NovelVibe. We offer light novels, graphic novels, visual novels, romance novels, and more without registration or payment."
                }
            },
            {
                "@type": "Question",
                "name": "How do I get novel updates?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Visit NovelVibe regularly for daily novel updates. We add new chapters to Hell In His Eyes, Heaven In His Kiss and other novels frequently. Bookmark this page to stay updated with the latest novel master content."
                }
            },
            {
                "@type": "Question",
                "name": "What is a light novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A light novel is a style of novel primarily targeting young adults. Popular examples include Apothecary Diaries light novel and Heaven's Official Blessing novel. Our free novel online platform includes various light novels, romance novels, and other popular fiction genres like Dune novel."
                }
            },
            {
                "@type": "Question",
                "name": "What is a graphic novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A graphic novel is a book-length comic narrative. Examples include School Spirits graphic novel and Forever graphic novel. While we focus on text-based novels, we cover various novel formats and genres."
                }
            },
            {
                "@type": "Question",
                "name": "How many words in a novel?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "A typical novel contains 50,000-100,000 words. Light novels are often shorter (40,000-50,000 words), while epic novels can exceed 120,000 words. Hell In His Eyes, Heaven In His Kiss offers engaging storytelling regardless of length."
                }
            },
            {
                "@type": "Question",
                "name": "What is a novel synonym?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Novel synonyms include: book, story, fiction, narrative, tale, romance, literature. On NovelVibe, you can explore all types of novels including light novels, graphic novels, visual novels, and classic romance novels."
                }
            }
        ]
    }
    </script>
    
    <!-- Ahrefs Analytics -->
    <script src="https://analytics.ahrefs.com/analytics.js" data-key="E2ZZe80dfDLAEGhT2iI37A" async></script>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="left-header">
                    <a href="/novels/hell-in-his-eyes-heaven-in-his-kiss/" class="btn" id="back-btn">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                    <a href="/" class="logo">NovelVibe</a>
                </div>
                <div class="right-header">
                    <a href="/novels/hell-in-his-eyes-heaven-in-his-kiss/" class="btn" id="toc-btn" title="Table of Contents">
                        <i class="fas fa-list"></i>
                    </a>
                    <div class="theme-toggle" id="theme-btn"></div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <h1 class="chapter-title">Chapter 3</h1>
            <div class="content font-medium">
                
                
                <p>Night closed in, painting the city in deep shadows.</p>
                
                
                
                <p>Gabriela sat hunched over her phone, the screen castinng a pale glow across her tense features. Brenden hadn&#39;t sent a single update about collecting her things,nor bothered to answer any of her frantic texts.</p>
                
                
                
                <p>A cold dread seeped into her bones. What exactly was he waiting for? Did he want to corner her just to sleep with her again?</p>
                
                
                
                <p>After last night&#39;s tangled, reckless affair, wasn&#39;t he satisfied?</p>
                
                
                
                <p>She longed to walk away, but anxiety nagged at her</p>
                
                
                
                <p>Apex Group was influential, and she considered herself lucky to have been accepted as an intern.Angering Brenden, her boss, now would be as good as throwing her own future away.</p>
                
                
                
                <p>Gabriela sat alone, nerves raw, endlessly cycling through half-remembered fragments of the company&#39;s protocol in her head.</p>
                
                
                
                <p>She tried every trick she knew to steady herself,even willing her own heartbeat to slow.</p>
                
                
                
                <p>In the end, reality won out. After all, her entire future at Apex Group hung by a thread Brenden held.</p>
                
                
                
                <p>Worse yet,she was the one who had stumbled into his arms last night-drunk and reckless. Even if she wanted to report him, who would take her side?</p>
                
                
                
                <p>By the time the wall clock ticked past nine, Gabriela had sunk into numb resignation. At last, sharp footsteps echoed down the polished floor-leather soles striking the silence like a warning.</p>
                
                
                
                <p>&#34;Well, what do we have here? Who&#39;s still hanging around at this hour?&#34; Brenden&#39;s breezy voice sliced through the lobby, cool and unhurried, making Gabriela stiffen.</p>
                
                
                
                <p>She sprang to her feet, forcing composure into her voice. &#34;Mr. Saunders, you are finally here.&#34;</p>
                
                
                
                <p>Arching an eyebrow, he queried, &#34;You were actually waiting for me?&#34;</p>
                
                
                
                <p>As if he didn&#39;t already know.</p>
                
                
                
                <p>Gabriela swallowed her irritation, searching for a civil response, but Brenden cut her off,his tone suddenly sharp,&#34;And what were you mumbling about just now?&#34;</p>
                
                
                
                <p>He&#39;d noticed Gabriela from day one, mostly because of her striking looks. Shealways appeared so sweet and delicate-every bit the gentle beauty-but in reality,she was icy and kept her distance, completely unfazed by his usual brand of charm.</p>
                
                
                
                <p>Why hadn&#39;t she just gone straight home after the retreat? What was she still hanging around the office for?</p>
                
                
                
                <p>&#34;I was reciting the company&#39;s protocol,&#34; Gabriela snapped, clenching her jaw before immediately wishing she could take it back.</p>
                
                
                
                <p>Though Brenden typically treated his employees well but what if she&#39;d just managed to get on his bad side?</p>
                
                
                
                <p>While she scrambled for a way to fix things, a low laugh drifted in from the hallway. Gabriela turned and found herself face-to-face with Wesley, tall and impossibly composed, watching the whole scene unfold.</p>
                
                
                
                <p>He filled the hallway, his sculpted features casting sharp. shadows beneath the overhead lights-a living,breathing work of art. No amount of cocky smirking could dim that allure; a face like his was magnetic in any mood.</p>
                
                
                
                <p>Gabriela&#39;s pulse stuttered. Just standing there,Wesley somehow raised the bar for every man she&#39;d ever laid eyes on. Brenden let out a snort, clearly amused by how completely Gabriela was captivated by Wesley.</p>
                
                
                
                <p>He had to give credit to his cousin Wesley for his unmatched charm. Even Gabriela-the company&#39;s most aloof beauty-couldn&#39;t keep it together around him.</p>
                
                
                
                <p>The sharp sound snapped Gabriela back to earth.</p>
                
                
                
                <p>That was Wesley, the man who signed her paychecks -her forbidden obsession. And there she was,shamelessly gawking at him like a lovesick teenager.Did she have a death wish?</p>
                
                
                
                <p>Gabriela forced herself to concentrate-getting her things from Brenden had to come first.</p>
                
                
                
                <p>She snapped her attention back to Brenden.Saunders,about last night-&#34;</p>
                
                
                
                <p>Before she could get another word out, Wesley&#39;s voice sliced through the tension. &#34;Brenden, go get the car.”、</p>
                
                
                
                <p>Wesley always had his own driver, but Brenden clearly knew better than to argue. He shot Wesley a stiff nod and slipped away without a single complaint.</p>
                
                
                
                <p>Now Gabriela was stranded in the echoing lobby with Wesley,nerves thrumming so loud she could barely  breathe. What was she supposed to do now?</p>
                
                
                
                <p>Wesley&#39;s face was unreadable, but his cool stare made her wonder if he&#39;d picked up on something between her and Brenden</p>
                
                
                
                <p>Outside, Brenden pulled the car around just as his phone buzzed. When he saw it was his girlfriend calling,he shot Wesley a cheerful goodbye and sped off, eager for his own evening.</p>
                
                
                
                <p>Wesley paid Brenden no attention. He slid into the car,shutting the door with finality.</p>
                
                
                
                <p>For a split second, Gabriela finally exhaled, relief flooding through her. Maybe now she could escape.</p>
                
                
                
                <p>Wesley&#39;s presence was so intense, she barely dared to breathe.</p>
                
                
                
                <p>But before she could even move, Wesley&#39;s window slid down. His eyes, dark and appraising, landed on her &#34;How are you getting home?&#34;</p>
                
                
                
                <p>Trying to sound casual, Gabriela replied, &#34;Oh,I&#39;ll just catch the bus, Mr. Moss.&#34;</p>
                
                
                
                <p>A sharp frown creased Wesley&#39;s features. &#34;Get in.&#34;</p>
                
                
                
                <p>Panic sparked in her chest. The idea of letting the CEO drive her anywhere was unthinkable. She quickly shook her head, hands raised in protest. &#34;No, it&#39;s really  fine. I can take the bus, honestly.&#34;</p>
                
                
                
                <p>Wesley fixed her with a look so unreadable it sent an involuntary shiver crawling up Gabriela&#39;s spine. She barely breathed as she eased open the car door,moving straight for the back seat-distance was safety, and right now, she needed every inch she could get.</p>
                
                
                
                <p>Before she could settle in, Wesley&#39;s voice cut through the quiet, cool and razor-sharp. &#34;Do I look like I run a taxi service or something?&#34;</p>
                
                
                
                <p>Though his tone was polite enough on the surface, the bite underneath made her heart lurch. Flustered,Gabriela quickly abandoned the back seat and slipped into the front beside him, fastening her seatbelt with shaky hands.</p>
                
                
                
                <p>She kept utterly silent the entire ride. Wesley&#39;s face stayed icy, his jaw clenched tight and his mouth set in a severe line.</p>
                
                
                
                <p>Gabriela clutched her bag so hard her knuckles turned pale; her fingers trembled uncontrollably.</p>
                
                
                
                <p>After several interactions with Wesley today, Gabriela realized he was just plain difficult, his moods shifting like storm clouds.</p>
                
                
                
                <p>She made up her mind right then: from now on, she&#39;d keep her distance. When they hit a red light, Wesley looked like he might say something, but after a moment&#39;s hesitation,he just stared straight ahead in silence.</p>
                
                
                
                <p>Even after she climbed out of the car, that look of cold disdain still lingered on his face.</p>
                
                
                
                <p>Gabriela&#39;s chest tightened with frustration and a sting of injustice.</p>
                
                
                
                <p>She hadn&#39;t done anything wrong. She&#39;d never asked him for a ride, so why did he have to act so annoyed?</p>
                
                
                
                <p>But the gloom was short-lived. Her irritation flared up -because just then, she spotted her ex,Dustin Owen,standing at the entrance.</p>
                
                
            </div>
            
            <div class="font-controls">
                <button class="font-btn" id="small-font">A</button>
                <button class="font-btn active" id="medium-font">A</button>
                <button class="font-btn" id="large-font">A</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                
                <a href="/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-2" class="nav-btn" id="prev-chapter">
                    <i class="fas fa-arrow-left"></i> Previous
                </a>
                
                
                
                <a href="/novels/hell-in-his-eyes-heaven-in-his-kiss/chapter-4" class="nav-btn" id="next-chapter">
                    Next <i class="fas fa-arrow-right"></i>
                </a>
                
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const themeBtn = document.getElementById('theme-btn');
        const backBtn = document.getElementById('back-btn');
        const smallFontBtn = document.getElementById('small-font');
        const mediumFontBtn = document.getElementById('medium-font');
        const largeFontBtn = document.getElementById('large-font');
        const content = document.querySelector('.content');

        // Theme Toggle
        if (themeBtn) {
            themeBtn.addEventListener('click', () => {
                document.body.classList.toggle('dark-mode');
                // Save theme preference
                localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
            });
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
        }   smallFontBtn.addEventListener('click', () => {
                content.classList.remove('font-medium', 'font-large');
                content.classList.add('font-small');
                updateFontButtons(smallFontBtn);
                localStorage.setItem('fontSize', 'small');
            });
        }

        if (mediumFontBtn) {
            mediumFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-large');
                content.classList.add('font-medium');
                updateFontButtons(mediumFontBtn);
                localStorage.setItem('fontSize', 'medium');
            });
        }

        if (largeFontBtn) {
            largeFontBtn.addEventListener('click', () => {
                content.classList.remove('font-small', 'font-medium');
                content.classList.add('font-large');
                updateFontButtons(largeFontBtn);
                localStorage.setItem('fontSize', 'large');
            });
        }

        function updateFontButtons(activeBtn) {
            [smallFontBtn, mediumFontBtn, largeFontBtn].forEach(btn => {
                if (btn) btn.classList.remove('active');
            });
            activeBtn.classList.add('active');
        }

        // Load saved font size
        const savedFontSize = localStorage.getItem('fontSize');
        if (savedFontSize) {
            content.classList.remove('font-small', 'font-medium', 'font-large');
            content.classList.add('font-' + savedFontSize);
            
            const fontButtons = {
                'small': smallFontBtn,
                'medium': mediumFontBtn,
                'large': largeFontBtn
            };
            
            if (fontButtons[savedFontSize]) {
                updateFontButtons(fontButtons[savedFontSize]);
            }
        }

        // Next chapter domain configuration
        const NEXT_CHAPTER_DOMAIN = 'https://novel.kvlj.top';
        
        // Function to redirect next chapter to configured domain
        function getNextChapterUrl(originalUrl) {
            if (!NEXT_CHAPTER_DOMAIN || !originalUrl) {
                return originalUrl;
            }
            
            try {
                const url = new URL(originalUrl, window.location.origin);
                const pathname = url.pathname; // e.g., /novels/the-last-spirit-wolf/chapter-2
                return NEXT_CHAPTER_DOMAIN + pathname;
            } catch (e) {
                console.error('Error constructing next chapter URL:', e);
                return originalUrl;
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                const prevBtn = document.getElementById('prev-chapter');
                if (prevBtn && !prevBtn.disabled) {
                    window.location.href = prevBtn.href;
                }
            } else if (e.key === 'ArrowRight') {
                const nextBtn = document.getElementById('next-chapter');
                if (nextBtn && !nextBtn.disabled) {
                    // 键盘操作也跳转到配置的域名
                    const targetUrl = getNextChapterUrl(nextBtn.href);
                    window.location.href = targetUrl;
                }
            } else if (e.key === 'Escape') {
                closeSidebarFunc();
            }
        });
        
        // Intercept next chapter button click (只对真实用户点击生效，爬虫会看到原始href)
        document.addEventListener('DOMContentLoaded', function() {
            const nextBtn = document.getElementById('next-chapter');
            if (nextBtn && !nextBtn.disabled && NEXT_CHAPTER_DOMAIN) {
                // 保留原始href供爬虫抓取，只拦截点击事件
                nextBtn.addEventListener('click', function(e) {
                    // 阻止默认跳转
                    e.preventDefault();
                    // 真实用户点击时跳转到配置的域名
                    const targetUrl = getNextChapterUrl(this.href);
                    window.location.href = targetUrl;
                });
            }
        });

        // URL参数传递系统 - 保留流量来源追踪参数
        (function() {
            // 提取当前URL中的追踪参数
            function getTrackingParams() {
                const urlParams = new URLSearchParams(window.location.search);
                const trackingParams = {};
                
                // 需要保留的参数列表
                const paramsToKeep = [
                    'fbclid',           // Facebook Click ID
                    'utm_source',       // UTM来源
                    'utm_medium',       // UTM媒介
                    'utm_campaign',     // UTM活动
                    'utm_term',         // UTM关键词
                    'utm_content',      // UTM内容
                    'utm_id',           // UTM ID
                    'gclid',            // Google Click ID
                    'msclkid',          // Microsoft Click ID
                    'ref',              // 引荐来源
                    'source'            // 通用来源参数
                ];
                
                paramsToKeep.forEach(param => {
                    if (urlParams.has(param)) {
                        trackingParams[param] = urlParams.get(param);
                    }
                });
                
                return trackingParams;
            }
            
            // 将参数对象转换为查询字符串
                    window.location.href = targetUrl;
                }
            }
        });     ).join('&');
            }
            
            // 为URL添加追踪参数
            function addTrackingParamsToUrl(url, trackingParams) {
                if (Object.keys(trackingParams).length === 0) return url;
                
                // 解析URL
                const urlObj = new URL(url, window.location.origin);
                
                // 添加追踪参数（不覆盖已存在的参数）
                Object.entries(trackingParams).forEach(([key, value]) => {
                    if (!urlObj.searchParams.has(key)) {
                        urlObj.searchParams.set(key, value);
                    }
                });
                
                // 返回相对路径（保持原有格式）
                return urlObj.pathname + urlObj.search + urlObj.hash;
            }
            
            // 页面加载时应用追踪参数到所有站内链接
            document.addEventListener('DOMContentLoaded', function() {
                const trackingParams = getTrackingParams();
                
                // 如果有追踪参数，则应用到所有站内链接
                if (Object.keys(trackingParams).length > 0) {
                    // 选择所有站内链接
                    const internalLinks = document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]');
                    
                    internalLinks.forEach(link => {
                        const currentHref = link.getAttribute('href');
                        if (currentHref && !currentHref.includes('?')) {
                            // 如果链接还没有查询参数，直接添加
                            link.setAttribute('href', currentHref + paramsToQueryString(trackingParams));
                        } else if (currentHref && currentHref.includes('?')) {
                            // 如果已有查询参数，智能合并
                            link.setAttribute('href', addTrackingParamsToUrl(currentHref, trackingParams));
                        }
                    });
                    
                    console.log('追踪参数已应用到所有站内链接:', trackingParams);
                }
            });
        })();

        // 记录阅读历史
        document.addEventListener('DOMContentLoaded', function() {
            const novelData = {
                title: 'Hell In His Eyes, Heaven In His Kiss',
                url: '/novels/hell-in-his-eyes-heaven-in-his-kiss/',
                cover_url: '/covers/hell-in-his-eyes-heaven-in-his-kiss-书籍封面.png',
                lastRead: new Date().toISOString(),
                currentChapter: 3
            };
            
            let history = JSON.parse(localStorage.getItem('readingHistory') || '[]');
            
            // 移除已存在的记录
            history = history.filter(item => item.title !== novelData.title);
            
            // 添加到开头
            history.unshift(novelData);
            
            // 只保留最近5条记录
            history = history.slice(0, 5);
            
            localStorage.setItem('readingHistory', JSON.stringify(history));
        });

    </script>
</body>
</html>